<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />

    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>Leitor de c√≥digo QR</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>

<script src="https://cdn.jsdelivr.net/npm/jsqr@1.0.4/dist/jsQR.min.js"></script>
<img src="%PUBLIC_URL%/test-code.png" alt="test" crossOrigin="anonymous">
<!-- <video hidden autoplay="true" type="video/webm" width="300" height="200" id="vid">
</video>
<canvas hidden id="cvs" width="300" height="300"> </canvas>
<button  class="record-btn">Start</button> -->
<script>
// let video = document.getElementById("vid")
// var canvasElement = document.getElementById("cvs")
// let canvas = canvasElement.getContext("2d")
// let chunks = [];

// let btn = document.querySelector(".record-btn")
// let stream 
// btn.addEventListener("click", async function () {
//   stream = await navigator.mediaDevices.getDisplayMedia({
//     video: true
//   })

//   let mediaRecorder = new MediaRecorder(stream, {
//       mimeType: "video/webm"
//   })

//   mediaRecorder.addEventListener('dataavailable', async function(e) {
//     chunks.push(e.data)
//     let blob = new Blob(chunks, {
//         type: chunks[0].type
//     })
//     let url = URL.createObjectURL(blob)
//     video.src = await url
    
//     video.oncanplay = () =>{
//         canvas.drawImage(video, 0, 0, canvasElement.width, canvasElement.height)
//         var imageData =  canvas.getImageData(
//         0,
//         0,
//         canvasElement.width,
//         canvasElement.height
//       );
//       var code =  jsQR(imageData.data, imageData.width, imageData.height);
//       if (code && mediaRecorder.state == "recording") {
//         mediaRecorder.stop();
//         stream.getTracks().forEach( track => track.stop() );
//         console.log(code.data);
//       }
//     }
//   })
//   mediaRecorder.start(10) 
// })
  </script>

 
  </body>
</html>
